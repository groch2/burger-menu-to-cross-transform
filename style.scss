@use "sass:math";
@use "sass:string";

body {
  margin: 0;
  padding: 0;
  background: #232323;
}

$bar-width: 300;
$bar-height: $bar-width / 5;
$bar-width-unit: #{$bar-height * 5 * 1px};
$bar-height-unit: #{$bar-height * 1px};
$cross-size: math.sqrt(math.pow($bar-width, 2) * 2) -
  (math.sqrt(math.pow($bar-height, 2) * 2));
$cross-width-scale: $cross-size / ($bar-width - $bar-height);
#menuToggle {
  position: relative;
  top: 20px;
  left: 50px;

  z-index: 1;

  -webkit-user-select: none;
  user-select: none;

  border: 1px solid red;
  width: $bar-width-unit;
  height: $bar-width-unit;
  font-size: 0;
}

#menuToggle a {
  text-decoration: none;
  color: #232323;
  transition: color 0.3s ease;
}

#menuToggle input {
  display: block;
  width: 100%;
  height: 100%;
  position: absolute;
  margin: 0;

  cursor: pointer;

  opacity: 0; /* hide this */
  z-index: 2; /* and place it over the hamburger */

  -webkit-touch-callout: none;
}

#menuToggle span {
  z-index: 1;
  height: $bar-height-unit;
  transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1),
    background 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity 0.55s ease;
}

#menuToggle input:checked ~ span#bar-1 {
  opacity: 1;
  transform-origin: 0 calc(#{$bar-height-unit} / 2);
  transform: rotate(45deg) scaleX($cross-width-scale);
}

#menuToggle input:checked ~ span#bar-1-right {
  opacity: 1;
  transform-origin: calc(#{$bar-height-unit} / 2) calc(#{$bar-height-unit} / 2);
  transform: translate(0, #{($bar-width - $bar-height) * 1px});
}

span#bar-1 {
  display: inline-block;
  position: relative;
  width: #{$bar-width - $bar-height * 1px};
  left: #{$bar-height / 2 * 1px};
  transform-origin: calc(#{$bar-height-unit} / 2) calc(#{$bar-height-unit} / 2);
  background: pink;
  transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
}

span#bar-1-left {
  display: inline-block;
  position: absolute;
  width: #{$bar-height * 1px};
  left: 0;
  top: 0;
  border-radius: #{$bar-height * 2 * 1px};
  background: pink;
}

span#bar-1-right {
  display: inline-block;
  position: absolute;
  width: #{$bar-height * 1px};
  right: 0;
  top: 0;
  border-radius: #{$bar-height * 2 * 1px};
  background: pink;
}
